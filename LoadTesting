import com.atlassian.jira.component.ComponentAccessor

// Get the issue
def issue = issue

// Get the current status
def currentStatus = issue.status

// Get the status ID
def statusId = currentStatus.id

// Get the custom field manager
def customFieldManager = ComponentAccessor.getCustomFieldManager()

// Get the custom field by name (replace "Previous Status" with your actual custom field name)
def previousStatusField = customFieldManager.getCustomFieldObjects(issue).find { it.name == "Previous Status" }

// Set the previous status value in the custom field
issue.setCustomFieldValue(previousStatusField, statusId)

// Log the information (optional)
log.info("Previous status set to: $statusId")

// Save the changes to the issue
issue.store()
